# Migrar el contrato
Ocasionalmente ocurrirá que notaremos que la estructura que planteamos para nuestro contrato no es la mejor. Quizá teníamos un mapping que tenía como clave un &str y valor un u128 y nos dimos cuenta que es mejor que tenga como clave un String y valor un U128. 

Ya sea con un contrato o no, modificar el tipo de dato en el que estamos almacenando algo puede representar un problema y hay que tratarlo con cuidado, generalmente teniendo algún script explícitamente para migrar la información de forma correcta.

En otro tipo de proyectos, al migrar por ejemplo una base de datos, ya sea sql o con un archivo, lo que podemos hacer fácilmente es tener un backup, hacer la migración y si algo falla, volver con el backup al estado anterior y poder seguir bien. En el caso de la blockchain, es más complicado, porque tiene que haber un consenso con lo que no podremos decir que algo quede en un estado específico muy fácilmente, así que en el caso de que ocurra esto, tendremos que tener mucho más cuidado que de costumbre.

Este problema puede ocurrir incluso si agregamos o eliminamos una propiedad. 

# Recomendaciones
En esta ocasión, el tutorial tendrá que ser un poco más complejo, porque necesitaremos empezar con un código ya deployado, con lo que se recomienda volver a la v6 y deployar un contrato sin eliminar la cuenta al final y utilizar los scripts de redeploy que se hagan. Si algo saliera mal, en la medida que estemos en la etapa de desarrollo, podemos simplemente eliminar la cuenta con el contrato y regenerarla nuevamente, pero en un entorno productivo con información de usuarios, hacer esto podría ser sumamente negativo, ya que lo más probable es que perdamos información. 

## ¿Qué haremos en esta versión?
Partiendo de un contrato deployado en v6, eliminaremos la propiedad `greeting` y agregaremos una propiedad `owner` que utilizaremos para mejorar nuestra función `assert_owner`.

## ¿Qué se cambia?
Lo principal que cambiaremos es el `lib.rs`. También tendremos que modificar el script de `deploy.sh` porque ahora el parámetro de deploy será distinto, así como las funciones que testea. Por último crearemos scripts para la migración.